# Smithery configuration file: https://smithery.ai/docs/config#smitheryyaml

# Publishing Information
name: mlb_mcp
displayName: "MLB Baseball Stats API"
description: "MCP server exposing MLB/Fangraphs data via pybaseball. Access player statistics, team data, and leaderboards."
author: jweingardt12
tags: ["sports", "baseball", "mlb", "statistics"]

# Tool definitions for Smithery
tools:
  - name: get_player_stats
    description: "Get player statcast data by name (optionally filter by date range)"
    inputSchema:
      type: object
      properties:
        name:
          type: string
          description: "Player name to search for"
        start_date:
          type: string
          description: "Start date in YYYY-MM-DD format"
        end_date:
          type: string
          description: "End date in YYYY-MM-DD format"
      required:
        - "name"

  - name: get_team_stats
    description: "Get team stats for a given team and year"
    inputSchema:
      type: object
      properties:
        team:
          type: string
          description: "Team name or abbreviation"
        year:
          type: integer
          description: "Year/season to get stats for"
        type:
          type: string
          description: "Type of stats (batting or pitching)"
          enum: ["batting", "pitching"]
      required:
        - "team"
        - "year"
        - "type"

  - name: get_leaderboard
    description: "Get leaderboard for a given stat and season"
    inputSchema:
      type: object
      properties:
        stat:
          type: string
          description: "Statistic to get leaderboard for (e.g., 'HR', 'AVG', 'ERA')"
        season:
          type: integer
          description: "Season year to get leaderboard for"
        type:
          type: string
          description: "Type of leaderboard (batting or pitching)"
          enum: ["batting", "pitching"]
      required:
        - "stat"
        - "season"

# For deployments that expect MCP STDIO, start uvicorn and then run the wrapper:
start: bash -c "uvicorn main:app --host 0.0.0.0 --port 8000 --log-config /app/uvicorn_log_config.json & python mcp_stdio_wrapper.py"
port: 8000
